@typeparam TItem
@using Microsoft.AspNetCore.Components.Forms;
<label class="radio">
    <input disabled="@Disabled" name="@Parent!.Name" @onchange="@(() => Parent!.SetSelectedRadio(this))" value="@Value" checked="@(Parent!.SelectedRadio == this)" />
    <span>@Title</span>
</label>

@code {
    [CascadingParameter] private BeerRadioGroup<TItem>? Parent { get; set; }
    [Parameter] public string? Title { get; set; }
    [Parameter] public bool Disabled { get; set; } = false;
    [Parameter] public TItem Value { get; set; }

    protected override void OnInitialized()
    {
        if (Parent == null)
            throw new ArgumentNullException(nameof(Parent), "BeerRadio must exist within a BeerRadioGroup");

        base.OnInitialized();

        Parent.AddRadio(this);
    }

    bool GetActive()
    {
        if (Parent!.SelectedRadio == this)
            return true;
        return false;
    }

    void OnClick()
    {
        Console.WriteLine(Value);
        Parent!.SetSelectedRadio(this);
    }
}